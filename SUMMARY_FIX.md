# Итоговая сводка исправлений OMR для блок-тестов

## Проблема
На OMR листе 25 вопросов, но после сканирования система показывает 27-30 вопросов.

## Причины
1. **Python скрипт находит лишние круги** - элементы дизайна, шум, артефакты
2. **Нет фильтрации по QR-коду** - система не ограничивает количество вопросов данными из QR
3. **Нет subjectId в вариантах** - невозможно фильтровать по выбранным предметам студента

## Исправления

### 1. Добавлен subjectId при создании вариантов
**Файл**: `server/src/routes/blockTest.routes.ts`
```typescript
shuffled.subjectI