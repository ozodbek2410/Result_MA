# üéØ PDF Export Feature

## üìä –°–¢–ê–¢–£–°: ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-02-15  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2026-02-15

---

## üéØ –û–ü–ò–°–ê–ù–ò–ï –ó–ê–î–ê–ß–ò

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—ã—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –±–ª–æ–∫-—Ç–µ—Å—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF.

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### Backend

1. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - `pdfkit` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF
   - `@types/pdfkit` - —Ç–∏–ø—ã –¥–ª—è TypeScript

2. **–°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `pdfExportService.ts`:**
   - `generateTestPDF()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
   - `generateBulkTestPDF()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (–±–ª–æ–∫-—Ç–µ—Å—Ç)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ LaTeX —Ñ–æ—Ä–º—É–ª (–±–∞–∑–æ–≤–∞—è –æ—á–∏—Å—Ç–∫–∞)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è
   - –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

3. **–°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `textUtils.ts`:**
   - `convertTiptapJsonToText()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è TipTap JSON –≤ —Ç–µ–∫—Å—Ç
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—É–ª LaTeX
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

4. **–î–æ–±–∞–≤–ª–µ–Ω—ã API endpoints:**
   - `GET /tests/:id/export-pdf` - —ç–∫—Å–ø–æ—Ä—Ç –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
   - `GET /block-tests/:id/export-pdf?students=id1,id2` - —ç–∫—Å–ø–æ—Ä—Ç –±–ª–æ–∫-—Ç–µ—Å—Ç–∞

### Frontend

1. **BlockTestActionsModal:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "PDF yuklash" –≤ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
   - –§—É–Ω–∫—Ü–∏—è `handleDownloadPDF()` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF
   - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å–∞

2. **TestPrintPage:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "PDF yuklash" –≤ –Ω–∞–≤–±–∞—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—á–∞—Ç–∏
   - –§—É–Ω–∫—Ü–∏—è `handleDownloadPDF()` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –±–ª–æ–∫-—Ç–µ—Å—Ç–æ–≤
   - –ö–Ω–æ–ø–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–ø–∞ 'questions'

3. **–£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:**
   - `BlockTestAllTestsPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å
   - –£–¥–∞–ª–µ–Ω —Ä–æ—É—Ç `/teacher/block-tests/:id/all-tests`
   - –û—á–∏—â–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

### Backend
- `server/package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `server/src/services/pdfExportService.ts` - –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
- `server/src/utils/textUtils.ts` - –Ω–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞
- `server/src/routes/test.routes.ts` - –¥–æ–±–∞–≤–ª–µ–Ω endpoint
- `server/src/routes/blockTest.routes.ts` - –¥–æ–±–∞–≤–ª–µ–Ω endpoint

### Frontend
- `client/src/components/TestOptionsModal.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∏ —Ñ—É–Ω–∫—Ü–∏—è
- `client/src/pages/teacher/BlockTestAllTestsPage.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –∏ —Ñ—É–Ω–∫—Ü–∏—è

---

## üé® –û–°–û–ë–ï–ù–ù–û–°–¢–ò

1. **–§–æ—Ä–º–∞—Ç PDF:**
   - –†–∞–∑–º–µ—Ä: A4
   - –ü–æ–ª—è: 40px —Å–æ –≤—Å–µ—Ö —Å—Ç–æ—Ä–æ–Ω
   - –®—Ä–∏—Ñ—Ç: Helvetica 11pt
   - 2 –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

2. **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ—Å—Ç–∞
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ/–∫–ª–∞—Å—Å–µ/–ø—Ä–µ–¥–º–µ—Ç–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
   - –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –≤ 2 –∫–æ–ª–æ–Ω–∫–∏
   - –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (–≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –µ—Å–ª–∏ –ø–æ–º–µ—â–∞—é—Ç—Å—è)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –ª–∏ –≤–æ–ø—Ä–æ—Å –≤ –∫–æ–ª–æ–Ω–∫—É
   - –£–º–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏
   - –ù—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –≤ —Ñ—É—Ç–µ—Ä–µ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

4. **LaTeX —Ñ–æ—Ä–º—É–ª—ã:**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ Unicode —Å–∏–º–≤–æ–ª—ã (√ó, √∑, ‚â§, ‚â•, œÄ, Œ±, Œ≤, Œ≥ –∏ —Ç.–¥.)
   - –î—Ä–æ–±–∏: `\frac{a}{b}` ‚Üí `(a)/(b)`
   - –ö–æ—Ä–Ω–∏: `\sqrt{x}` ‚Üí `‚àö(x)`
   - –°—Ç–µ–ø–µ–Ω–∏: `x^2` ‚Üí `x¬≤`
   - –ò–Ω–¥–µ–∫—Å—ã: `x_1` ‚Üí `x‚ÇÅ`
   - –ì—Ä–µ—á–µ—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –û–±—ã—á–Ω—ã–π —Ç–µ—Å—Ç:
1. –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç
2. –ù–∞–∂–∞—Ç—å "Ko'rish va chop etish"
3. –í—ã–±—Ä–∞—Ç—å "Savollar va javoblar"
4. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–µ—á–∞—Ç–∏ –Ω–∞–∂–∞—Ç—å "PDF yuklash"
5. –§–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ë–ª–æ–∫-—Ç–µ—Å—Ç:
**–í–∞—Ä–∏–∞–Ω—Ç 1 (—á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ):**
1. –û—Ç–∫—Ä—ã—Ç—å –±–ª–æ–∫-—Ç–µ—Å—Ç
2. –ù–∞–∂–∞—Ç—å "Ko'rish va chop etish"
3. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –Ω–∞–∂–∞—Ç—å "PDF yuklash"
4. –§–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å–∞

**–í–∞—Ä–∏–∞–Ω—Ç 2 (—á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–µ—á–∞—Ç–∏):**
1. –û—Ç–∫—Ä—ã—Ç—å –±–ª–æ–∫-—Ç–µ—Å—Ç
2. –ù–∞–∂–∞—Ç—å "Ko'rish va chop etish"
3. –í—ã–±—Ä–∞—Ç—å "Savollar va javoblar"
4. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–µ—á–∞—Ç–∏ –Ω–∞–∂–∞—Ç—å "PDF yuklash"
5. –§–∞–π–ª —Å–∫–∞—á–∞–µ—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

---

## üîÆ –í–û–ó–ú–û–ñ–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

1. **–®—Ä–∏—Ñ—Ç—ã:**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–∑–±–µ–∫—Å–∫–æ–≥–æ
   - –£–ª—É—á—à–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã

2. **LaTeX:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å KaTeX –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ñ–æ—Ä–º—É–ª –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

3. **–î–∏–∑–∞–π–Ω:**
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —à–∫–æ–ª—ã
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å—Ç–∏–ª–∏ (—Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã)
   - QR-–∫–æ–¥—ã –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

4. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
   - –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ (—Å –æ—Ç–≤–µ—Ç–∞–º–∏ / –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤)
   - –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ
   - Batch —ç–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

- PDF –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ç–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –ø–µ—á–∞—Ç–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–ê–≤—Ç–æ—Ä:** AI Assistant (Claude Sonnet 4.5)
