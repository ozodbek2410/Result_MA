# Конфигурация логирования

## Уровни логирования

Установите переменную окружения `LOG_LEVEL` в файле `.env`:

```bash
# Только критические ошибки
LOG_LEVEL=ERROR

# Ошибки и предупреждения (рекомендуется для production)
LOG_LEVEL=WARN

# Стандартный режим (по умолчанию)
LOG_LEVEL=INFO

# Все логи включая отладочные (для разработки)
LOG_LEVEL=DEBUG
```

## Что изменилось

### Более компактный формат
**Было:**
```
2024-02-05T10:30:45.123Z INFO [API]: GET /api/users - 200 (45ms)
{
  "userId": "123"
}
```

**Стало:**
```
10:30:45 [API] GET /api/users - 200 (45ms)
```

### Умное логирование

- **Health checks** и статические файлы не логируются
- **Успешные запросы** логируются только в DEBUG режиме
- **Медленные запросы** (>1000ms) всегда показываются как WARNING
- **Ошибки** (4xx, 5xx) всегда видны
- **DB запросы** логируются только если медленные (>500ms)
- **Stack traces** показываются только в development режиме

### Рекомендации

**Production:**
```bash
NODE_ENV=production
LOG_LEVEL=WARN
```
Будут видны только ошибки, предупреждения и медленные запросы.

**Development:**
```bash
NODE_ENV=development
LOG_LEVEL=DEBUG
```
Все логи с подробностями.

**Минимальные логи:**
```bash
LOG_LEVEL=ERROR
```
Только критические ошибки.
